<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game 3 - Guessing Game</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <div>Team 1 Points: <span id="team1Points">0</span></div>
        <div>Team 2 Points: <span id="team2Points">0</span></div>
    </header>
    <div id="landingScreen" class="quiz-container">
        <h2>Game 3 - Guessing Game</h2>
        <button onclick="showRules()" class="quiz-button" style="margin: 20px auto;">Next</button>
    </div>
    <div id="rulesScreen" class="quiz-container" style="display: none;">
        <h3>Specific rules for Game 3:</h3>
        <ul>
            <li>Each team enters their guess for each question.</li>
            <li>The team that is closer to the correct answer wins the question.</li>
            <li>The team with the most points at the end wins the game.</li>
        </ul>
        <button onclick="startGame()" class="quiz-button" style="margin: 20px auto;">Start Game</button>
    </div>
    <div id="gameScreen" class="quiz-container" style="display: none;">
        <h2 id="questionNumber" class="quiz-question-number">Question 1</h2>
        <div id="quizQuestion" class="quiz-question"></div>
        <div id="quizAnswer" class="quiz-answer"></div>
        <form id="guessForm">
            <label for="team1Guess">Team 1 Guess:</label>
            <input type="number" id="team1Guess" required>
            <label for="team2Guess">Team 2 Guess:</label>
            <input type="number" id="team2Guess" required>
            <button type="submit" class="quiz-button" style="margin: 20px auto;">Submit Guess</button>
        </form>
        <button id="nextQuestionButton" class="quiz-button" style="display: none; margin: 20px auto;">Next
            Question</button>
    </div>
    <div id="awardPointsContainer" style="display: none;">
        <h2>Award Points</h2>
        <button
            onclick="updatePoints('team1', 1, 3); document.getElementById('awardPointsContainer').style.display = 'none'; document.getElementById('nextGameButton').style.display = 'block';"
            class="quiz-button" style="margin: 20px auto;">Award Point to Team 1</button>
        <button
            onclick="updatePoints('team2', 1, 3); document.getElementById('awardPointsContainer').style.display = 'none'; document.getElementById('nextGameButton').style.display = 'block';"
            class="quiz-button" style="margin: 20px auto;">Award Point to Team 2</button>
    </div>
    <button id="nextGameButton" onclick="location.href='index.html'" class="quiz-button next-game-button"
        style="display: none; margin: 20px auto;">Next Game</button>
    <script>
        const questions = [
            { question: "What is the population of New York City?", answer: 8419000 },
            { question: "How many kilometers is the Great Wall of China?", answer: 21196 },
            { question: "What year was the first iPhone released?", answer: 2007 },
            { question: "How many bones are in the human body?", answer: 206 },
            { question: "What is the height of Mount Everest in meters?", answer: 8848 }
        ];

        let currentQuestionIndex = 0;

        function showRules() {
            document.getElementById('landingScreen').style.display = 'none';
            document.getElementById('rulesScreen').style.display = 'block';
        }

        function startGame() {
            document.getElementById('rulesScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const questionElement = document.getElementById('quizQuestion');
            questionElement.textContent = questions[currentQuestionIndex].question;
            document.getElementById('quizAnswer').style.display = 'none';
            document.getElementById('guessForm').style.display = 'block';
            document.getElementById('nextQuestionButton').style.display = 'none';
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
        }

        document.getElementById('guessForm').addEventListener('submit', function (event) {
            event.preventDefault();
            const team1Guess = parseInt(document.getElementById('team1Guess').value);
            const team2Guess = parseInt(document.getElementById('team2Guess').value);
            const correctAnswer = questions[currentQuestionIndex].answer;
            const team1Difference = Math.abs(team1Guess - correctAnswer);
            const team2Difference = Math.abs(team2Guess - correctAnswer);

            let resultMessage = `Correct Answer: ${correctAnswer}\nTeam 1 Guess: ${team1Guess}\nTeam 2 Guess: ${team2Guess}\n`;

            if (team1Difference < team2Difference) {
                updatePoints('team1', 1, 3);
                resultMessage += "Team 1 was closer!";
            } else if (team2Difference < team1Difference) {
                updatePoints('team2', 1, 3);
                resultMessage += "Team 2 was closer!";
            } else {
                resultMessage += "Both teams were equally close!";
            }

            document.getElementById('quizAnswer').textContent = resultMessage;
            document.getElementById('quizAnswer').style.display = 'block';
            document.getElementById('guessForm').style.display = 'none';
            document.getElementById('nextQuestionButton').style.display = 'block';
        });

        document.getElementById('nextQuestionButton').addEventListener('click', function () {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                document.getElementById('awardPointsContainer').style.display = 'block';
                document.getElementById('gameScreen').style.display = 'none';
            }
        });
    </script>
    <script src="script.js"></script>
</body>

</html>
